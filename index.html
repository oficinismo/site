
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Catálogo de Cómics</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="site-header">
        <img src="images/header.jpg" alt="Header del catálogo">
        <h1>Catálogo de Cómics</h1>
    </header>

    <div class="catalogo">
        
        <div class="comic-card"
             data-titulo="Memes"
             data-autor="Oficinismo"
             data-editorial="Oficinismo"
             data-anio="2025"
             data-precio="12000"
             data-pdf="pdfs/memes.pdf">
            <img src="images/memes.jpg" alt="Memes">
            <h3>Memes</h3>
            <p><strong>Autor:</strong> Oficinismo</p>
            <p><strong>Editorial:</strong> Oficinismo</p>
            <p><strong>Año:</strong> 2025</p>
            <p><strong>Precio:</strong> CLP 12000</p>
            <div class="descripcion" style="display:none;"><p>Un clásico de oficinismo</p></div>
        </div>
        

        <div class="comic-card"
             data-titulo="Boletín rata 1 y 2"
             data-autor="Oficinismo"
             data-editorial="Oficinismo"
             data-anio="2020"
             data-precio="10000"
             data-pdf="pdfs/boletin_rata_1_y_2.pdf">
            <img src="images/boletin_rata_1_y_2.jpg" alt="Boletín rata 1 y 2">
            <h3>Boletín rata 1 y 2</h3>
            <p><strong>Autor:</strong> Oficinismo</p>
            <p><strong>Editorial:</strong> Oficinismo</p>
            <p><strong>Año:</strong> 2020</p>
            <p><strong>Precio:</strong> CLP 10000</p>
            <div class="descripcion" style="display:none;"><p>Un clásico de oficinismo</p></div>
        </div>
        
    </div>

    <!-- Modal -->
    <div id="comic-modal" class="comic-modal">
        <div class="comic-modal-content">
            <span id="close-comic" class="close">&times;</span>
            <div id="comic-modal-body" class="modal-info"></div>
            <div class="modal-pdf">
                <iframe id="comic-pdf" style="width:100%;height:600px;" frameborder="0"></iframe>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelectorAll('.comic-card');
            const modal = document.getElementById('comic-modal');
            const modalBody = document.getElementById('comic-modal-body');
            const pdfFrame = document.getElementById('comic-pdf');
            const closeBtn = document.getElementById('close-comic');

            // Configuración de tu repo en GitHub
            const repoUser = "oficinismo";
            const repoName = "catalogo";
            const branch = "main";

            cards.forEach(card => {
                card.addEventListener('click', () => {
                    const titulo = card.getAttribute('data-titulo');
                    const autor = card.getAttribute('data-autor');
                    const editorial = card.getAttribute('data-editorial');
                    const anio = card.getAttribute('data-anio');
                    const precio = card.getAttribute('data-precio');
                    const descripcion = card.querySelector('.descripcion')?.innerHTML || '';
                    const pdf = card.getAttribute('data-pdf'); // ej: "pdfs/catalogo1.pdf"

                    modalBody.innerHTML = `
                        <h2>${titulo}</h2>
                        <p><strong>Autor:</strong> ${autor}</p>
                        <p><strong>Editorial:</strong> ${editorial}</p>
                        <p><strong>Año:</strong> ${anio}</p>
                        <p><strong>Precio:</strong> CLP ${precio}</p>
                        <div class="descripcion">${descripcion}</div>
                    `;

                    // Construir URL pública para Google Docs Viewer
                    const pdfUrl = `https://docs.google.com/viewer?url=https://raw.githubusercontent.com/${repoUser}/${repoName}/${branch}/${pdf}&embedded=true`;

                    pdfFrame.src = pdfUrl;
                    modal.style.display = 'flex';
                });
            });

            closeBtn.addEventListener('click', () => {
                modal.style.display = 'none';
                pdfFrame.src = "";
            });

            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                    pdfFrame.src = "";
                }
            });
        });
    </script>
</body>
</html>
